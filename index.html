<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cariboo Signals - A daily AI-generated tech review from and about rural BC</title>
    <meta name="description" content="How do rural communities grow alongside technology? Daily conversations about responsible tech progress in the Cariboo region on the traditional territories of the Secw√©pemc, T≈ùilhqot'in, and Dakelh nations.">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #4a5d73 0%, #2c3e50 100%);
            min-height: 100vh;
            padding: 40px 20px;
        }
        
        .container {
            background: white;
            border-radius: 16px;
            padding: 48px;
            max-width: 900px;
            margin: 0 auto;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .podcast-cover {
            width: 200px;
            height: 200px;
            margin: 0 auto 24px;
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
        }
        
        h1 {
            font-size: 2.5em;
            margin-bottom: 8px;
            color: #2c3e50;
        }
        
        .subtitle {
            margin-bottom: 32px;
            color: #666;
            font-size: 1.2em;
            font-style: italic;
        }
        
        .theme-description {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #2c3e50;
            margin-bottom: 32px;
        }
        
        .hosts-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 32px;
        }
        
        .host-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #3498db;
        }
        
        .host-name {
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 8px;
            font-size: 1.1em;
        }
        
        .episodes-section {
            margin-top: 40px;
        }
        
        .episodes-list {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            min-height: 200px;
        }
        
        .episode-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid #ddd;
        }
        
        .episode-item:last-child {
            border-bottom: none;
        }
        
        .episode-title {
            font-weight: 500;
            color: #2c3e50;
        }
        
        .episode-date {
            color: #666;
            font-size: 0.9em;
        }
        
        .episode-audio {
            margin-top: 8px;
        }
        
        .loading {
            text-align: center;
            color: #666;
            font-style: italic;
        }
        
        .subscribe-section {
            text-align: center;
            margin-top: 32px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        
        .podcast-apps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-top: 20px;
        }
        
        .app-link {
            display: block;
            background: white;
            padding: 12px;
            border-radius: 8px;
            text-decoration: none;
            color: #333;
            border: 2px solid #ddd;
            transition: all 0.3s;
        }
        
        .app-link:hover {
            border-color: #3498db;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .app-name {
            font-weight: bold;
            margin-bottom: 4px;
        }
        
        .app-description {
            font-size: 0.9em;
            color: #666;
        }
        
        .rss-links {
            text-align: center;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #ddd;
        }
        
        .rss-button {
            display: inline-block;
            background: #e74c3c;
            color: white;
            padding: 12px 24px;
            text-decoration: none;
            border-radius: 6px;
            margin: 0 8px;
            font-weight: 500;
            transition: background 0.3s;
        }
        
        .rss-button:hover {
            background: #c0392b;
        }
        
        .footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #ddd;
            color: #666;
            font-size: 0.9em;
        }
        
        .credits {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        
        .credits h3 {
            margin-bottom: 16px;
            color: #2c3e50;
        }
        
        .credits-content {
            text-align: left;
            max-width: 600px;
            margin: 0 auto;
        }

        .schedule-section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 32px;
        }

        .schedule-section h3 {
            margin-bottom: 16px;
            color: #2c3e50;
            text-align: center;
        }

        .weekly-schedule {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 8px;
        }

        .schedule-day {
            background: white;
            padding: 12px 8px;
            border-radius: 6px;
            text-align: center;
            border: 2px solid #ddd;
        }

        .schedule-day-name {
            font-weight: bold;
            color: #2c3e50;
            font-size: 0.85em;
            margin-bottom: 6px;
        }

        .schedule-theme-name {
            color: #666;
            font-size: 0.75em;
            line-height: 1.3;
        }

        .filter-section {
            background: #e8f4f8;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 4px solid #3498db;
        }

        .filter-controls {
            display: flex;
            gap: 16px;
            flex-wrap: wrap;
            align-items: center;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .filter-group label {
            font-weight: 500;
            font-size: 0.9em;
            color: #2c3e50;
        }

        .filter-group select {
            padding: 8px 12px;
            border-radius: 6px;
            border: 2px solid #ddd;
            background: white;
            font-size: 0.95em;
            cursor: pointer;
            transition: border-color 0.3s;
        }

        .filter-group select:hover {
            border-color: #3498db;
        }

        .filter-group select:focus {
            outline: none;
            border-color: #3498db;
        }

        .episode-item.hidden {
            display: none;
        }

        @media (max-width: 768px) {
            .container {
                padding: 24px;
            }

            .hosts-section {
                grid-template-columns: 1fr;
            }

            .podcast-apps {
                grid-template-columns: 1fr;
            }

            .weekly-schedule {
                grid-template-columns: 1fr;
            }

            .filter-controls {
                flex-direction: column;
                align-items: stretch;
            }

            .filter-group {
                width: 100%;
            }

            .filter-group select {
                width: 100%;
            }

            h1 {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <img src="cariboo-signals.png" alt="Cariboo Signals Cover" class="podcast-cover">
            <h1>Cariboo Signals</h1>
            <p class="subtitle">A daily AI-generated tech review from and about rural BC</p>
        </div>
        
        <div class="theme-description">
            <p>How do rural communities grow alongside technology? Daily conversations about responsible tech progress in the Cariboo region on the traditional territories of the Secw√©pemc, T≈ùilhqot'in, and Dakelh nations.</p>
        </div>
        
        <div class="hosts-section">
            <div class="host-card">
                <div class="host-name">üé§ Riley</div>
                <p>Tech optimist with an engineering background and rural roots in the Cariboo region. Genuinely believes technology can transform rural communities for the better ‚Äî broadband, AI tools, precision agriculture, telemedicine. Thinks Silicon Valley innovation, adapted thoughtfully, is the best lever rural communities have. Pushes for adoption and sees hesitation as a risk of being left behind. Backs up her optimism with data, case studies, and real deployment examples.</p>
            </div>

            <div class="host-card">
                <div class="host-name">üéôÔ∏è Casey</div>
                <p>Community development advocate in the Cariboo region with a healthy skepticism toward tech industry promises. Has seen too many 'revolutionary' rural programs fizzle out after the press release. Asks who actually benefits, who pays the maintenance costs, and what happens when the grant money runs out. Deeply interested in digital equity and Indigenous-led innovation, but demands evidence over hype.</p>
            </div>

        </div>

        <div class="schedule-section">
            <h3>üìÖ Weekly Theme Schedule</h3>
            <div class="weekly-schedule">
            <div class="schedule-day">
                <div class="schedule-day-name">Monday</div>
                <div class="schedule-theme-name">Arts, Culture & Digital Storytelling</div>
            </div>

            <div class="schedule-day">
                <div class="schedule-day-name">Tuesday</div>
                <div class="schedule-theme-name">Working Lands & Industry</div>
            </div>

            <div class="schedule-day">
                <div class="schedule-day-name">Wednesday</div>
                <div class="schedule-theme-name">Community Tech & Governance</div>
            </div>

            <div class="schedule-day">
                <div class="schedule-day-name">Thursday</div>
                <div class="schedule-theme-name">Indigenous Lands & Innovation</div>
            </div>

            <div class="schedule-day">
                <div class="schedule-day-name">Friday</div>
                <div class="schedule-theme-name">Wild Spaces & Outdoor Life</div>
            </div>

            <div class="schedule-day">
                <div class="schedule-day-name">Saturday</div>
                <div class="schedule-theme-name">Cariboo Voices & Local News</div>
            </div>

            <div class="schedule-day">
                <div class="schedule-day-name">Sunday</div>
                <div class="schedule-theme-name">Resilient Rural Futures</div>
            </div>

            </div>
        </div>

        <div class="episodes-section">
            <h2>Recent Episodes</h2>

            <div class="filter-section">
                <div class="filter-controls">
                    <div class="filter-group">
                        <label for="theme-filter">Filter by Theme:</label>
                        <select id="theme-filter">
                            <option value="all">All Themes</option>
                            <option value="0">Arts, Culture & Digital Storytelling</option>
                            <option value="1">Working Lands & Industry</option>
                            <option value="2">Community Tech & Governance</option>
                            <option value="3">Indigenous Lands & Innovation</option>
                            <option value="4">Wild Spaces & Outdoor Life</option>
                            <option value="5">Cariboo Voices & Local News</option>
                            <option value="6">Resilient Rural Futures</option>
                        </select>
                    </div>

                    <div class="filter-group">
                        <label for="date-filter">Filter by Date:</label>
                        <select id="date-filter">
                            <option value="all">All Episodes</option>
                            <option value="7">Last 7 Days</option>
                            <option value="30">Last 30 Days</option>
                            <option value="90">Last 90 Days</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="episodes-list" id="episodes-container">
                <div class="loading">Loading episodes...</div>
            </div>
        </div>
        
        <div class="subscribe-section">
            <h3>Subscribe to Cariboo Signals</h3>
            <p>Get new episodes automatically in your favorite podcast app:</p>

            <div class="podcast-apps">
                <a href="https://podcasts.apple.com/ca/podcast/cariboo-signals/id1877128326" class="app-link" target="_blank" rel="noopener noreferrer"><div class="app-name"><svg style="display: inline-block; vertical-align: middle; margin-right: 6px;" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16.5563 10.7838C16.5456 8.36313 18.5438 7.17813 18.6413 7.11938C17.5369 5.54875 15.8544 5.34125 15.2456 5.31938C13.7756 5.16313 12.3544 6.21313 11.6088 6.21313C10.8469 6.21313 9.68063 5.33688 8.42813 5.36063C6.77813 5.38438 5.23938 6.32813 4.41188 7.80188C2.71813 10.8075 3.97313 15.2294 5.60688 17.6581C6.42438 18.8475 7.38938 20.1756 8.64063 20.13C9.86688 20.0806 10.3269 19.3331 11.8119 19.3331C13.2825 19.3331 13.7069 20.13 14.9838 20.1019C16.2975 20.0806 17.1306 18.9056 17.9156 17.7069C18.8506 16.3425 19.2438 15.0031 19.2606 14.9331C19.2288 14.9219 16.5694 13.8881 16.5563 10.7838Z" fill="currentColor"/><path d="M13.9419 3.58125C14.6231 2.75188 15.0931 1.605 14.9625 0.4375C13.9869 0.48 12.7819 1.11313 12.0781 1.92375C11.4525 2.63813 10.8894 3.81938 11.0388 4.94063C12.1281 5.02688 13.2456 4.39563 13.9419 3.58125Z" fill="currentColor"/></svg>Apple Podcasts</div><div class="app-description">Listen on iPhone, iPad, Mac, and more</div></a>
            </div>

            <div class="rss-links">
                <h4>Or subscribe directly:</h4>
                <a href="podcast-feed.xml" class="rss-button">üéôÔ∏è RSS Feed</a>
                <a href="https://podcast.cariboosignals.ca/podcast-feed.xml" class="rss-button">üì° Direct Link</a>
            </div>
        </div>
        
        <div class="footer">
            <div class="credits">
                <h3>Credits</h3>
                <div class="credits-content">
                <p><strong>Theme Song:</strong> <a href='cariboo-signals-full.mp3'>Cariboo Signals by Sumo AI</a></p>
                <p><strong>Content Curation & Script:</strong> Claude (Anthropic)</p>
                <p><strong>TTS Voices:</strong> OpenAI TTS API</p>
                <p><strong>Cover Art:</strong> ChatGPT (OpenAI)</p>
                <p><strong>Podcast Coordination:</strong> Erich Zirnhelt</p>
                <p><strong>License:</strong> <a href='https://creativecommons.org/licenses/by-nc/4.0/'>CC BY-NC 4.0</a> ¬© 2026 Erich Zirnhelt</p>

                </div>
            </div>
            
            <p>Generated automatically from curated RSS feeds ‚Ä¢ Updated daily at 5 AM PST</p>
            <p>Part of the <a href="https://zirnhelt.github.io/super-rss-feed/">Super RSS Feed</a> project</p>
        </div>
    </div>

    <script>
        // Theme configuration
        const themes = {"0": {"name": "Arts, Culture & Digital Storytelling", "description": "Local arts scene, festivals, creative economy, media, and cultural tech", "keywords": ["arts", "culture", "storytelling", "festival", "creative", "media", "film", "music", "gallery", "museum", "digital art", "podcast", "journalism"]}, "1": {"name": "Working Lands & Industry", "description": "Cariboo forestry, ranching, mining, agriculture \u2014 tech in the resource economy", "keywords": ["forestry", "ranching", "mining", "agriculture", "lumber", "cattle", "resource", "farming", "timber", "sawmill", "crop", "harvest", "livestock", "industrial"]}, "2": {"name": "Community Tech & Governance", "description": "SD27, CRD, Williams Lake council, municipal networks, civic innovation", "keywords": ["governance", "council", "municipal", "civic", "community", "public", "policy", "bylaw", "broadband", "network", "digital equity", "open data", "smart city", "election"]}, "3": {"name": "Indigenous Lands & Innovation", "description": "T\u015dilhqot'in, Secw\u00e9pemc, Dakelh \u2014 language, governance, land stewardship, and tech", "keywords": ["indigenous", "first nations", "aboriginal", "reconciliation", "treaty", "land rights", "sovereignty", "guardian", "stewardship", "language revitalization", "elder", "traditional knowledge", "Haida", "Tsilhqotin", "Secwepemc", "Dakelh", "tribal"]}, "4": {"name": "Wild Spaces & Outdoor Life", "description": "Chilcotin wilderness, backcountry recreation, conservation tech, wildfire and climate", "keywords": ["wilderness", "wildfire", "conservation", "wildlife", "outdoor", "recreation", "hiking", "fishing", "hunting", "backcountry", "park", "trail", "forest fire", "climate", "salmon", "grizzly", "caribou"]}, "5": {"name": "Cariboo Voices & Local News", "description": "Williams Lake, Quesnel, 100 Mile House, Bella Coola \u2014 community stories and digital equity", "keywords": ["Williams Lake", "Quesnel", "100 Mile", "Bella Coola", "Cariboo", "local", "community", "rural", "small town", "digital equity", "Chilcotin", "Prince George"]}, "6": {"name": "Resilient Rural Futures", "description": "Infrastructure, connectivity, sustainability, and preparing Cariboo communities for change", "keywords": ["infrastructure", "connectivity", "sustainability", "resilience", "rural", "broadband", "renewable", "solar", "wind", "fiber", "satellite", "preparedness", "adaptation", "transition"]}};
        const themeNames = Object.values(themes).map(t => t.name);

        // Store all episodes data
        let allEpisodes = [];

        async function loadEpisodes() {
            try {
                const response = await fetch('podcast-feed.xml');
                const xmlText = await response.text();

                const parser = new DOMParser();
                const xmlDoc = parser.parseFromString(xmlText, 'text/xml');
                const items = xmlDoc.querySelectorAll('item');

                const container = document.getElementById('episodes-container');

                if (items.length === 0) {
                    container.innerHTML = `
                        <div class="loading">
                            <p>No episodes found yet.</p>
                            <p style="margin-top: 16px;"><em>The podcast generator creates new episodes daily based on curated RSS feed data.</em></p>
                        </div>
                    `;
                    return;
                }

                // Parse and store all episodes
                allEpisodes = [];
                items.forEach((item, index) => {
                    const title = item.querySelector('title')?.textContent || 'Untitled Episode';
                    const pubDate = item.querySelector('pubDate')?.textContent || '';
                    const enclosure = item.querySelector('enclosure');
                    const audioUrl = enclosure?.getAttribute('url') || '';

                    let date = null;
                    let formattedDate = pubDate;
                    try {
                        date = new Date(pubDate);
                        formattedDate = date.toLocaleDateString('en-US', {
                            weekday: 'short',
                            year: 'numeric',
                            month: 'short',
                            day: 'numeric'
                        });
                    } catch (e) {
                        // Keep original date if parsing fails
                    }

                    // Extract theme from title
                    // Normalize both strings to handle & vs And differences
                    let themeId = null;
                    const normalizedTitle = title.toLowerCase().replace(/&/g, 'and');
                    for (let i = 0; i < themeNames.length; i++) {
                        const normalizedTheme = themeNames[i].toLowerCase().replace(/&/g, 'and');
                        if (normalizedTitle.includes(normalizedTheme)) {
                            themeId = i;
                            break;
                        }
                    }

                    allEpisodes.push({
                        title,
                        pubDate: date,
                        formattedDate,
                        audioUrl,
                        themeId
                    });
                });

                renderEpisodes();

            } catch (error) {
                console.error('Failed to load episodes:', error);
                document.getElementById('episodes-container').innerHTML = `
                    <div class="loading">
                        <p>Episodes are being generated...</p>
                        <p style="margin-top: 16px;"><em>The podcast generator creates new episodes daily based on curated RSS feed data.</em></p>
                    </div>
                `;
            }
        }

        function renderEpisodes() {
            const container = document.getElementById('episodes-container');
            const themeFilter = document.getElementById('theme-filter').value;
            const dateFilter = document.getElementById('date-filter').value;

            // Apply filters
            const now = new Date();
            const filteredEpisodes = allEpisodes.filter(episode => {
                // Theme filter
                if (themeFilter !== 'all') {
                    if (episode.themeId !== parseInt(themeFilter)) {
                        return false;
                    }
                }

                // Date filter
                if (dateFilter !== 'all' && episode.pubDate) {
                    const daysDiff = Math.floor((now - episode.pubDate) / (1000 * 60 * 60 * 24));
                    if (daysDiff > parseInt(dateFilter)) {
                        return false;
                    }
                }

                return true;
            });

            if (filteredEpisodes.length === 0) {
                container.innerHTML = `
                    <div class="loading">
                        <p>No episodes match the selected filters.</p>
                        <p style="margin-top: 16px;"><em>Try adjusting your filter selections.</em></p>
                    </div>
                `;
                return;
            }

            let episodesHTML = '';
            filteredEpisodes.forEach(episode => {
                episodesHTML += `
                    <div class="episode-item">
                        <div>
                            <div class="episode-title">${episode.title}</div>
                            <div class="episode-date">${episode.formattedDate}</div>
                            ${episode.audioUrl ? `
                                <div class="episode-audio">
                                    <audio controls style="width: 100%; max-width: 300px;">
                                        <source src="${episode.audioUrl}" type="audio/mpeg">
                                        Your browser does not support the audio element.
                                    </audio>
                                </div>
                            ` : ''}
                        </div>
                    </div>
                `;
            });

            container.innerHTML = episodesHTML;
        }

        // Add filter event listeners
        document.getElementById('theme-filter').addEventListener('change', renderEpisodes);
        document.getElementById('date-filter').addEventListener('change', renderEpisodes);

        loadEpisodes();
    </script>
</body>
</html>